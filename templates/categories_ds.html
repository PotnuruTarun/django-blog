{% extends 'base.html' %}

{% block content %}

<div class="container-fluid mt-4">
    <div class="row">

        <!-- Sidebar -->
        {% include 'sidebar.html' %}

        <!-- Main Content -->
        <div class="col-md-9">

            <!-- Header Section -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4 class="font-weight-bold mb-0">
                    <i class="fa fa-folder"></i> All Categories
                </h4>

                <a href="{% url 'add_category' %}"
                   class="btn btn-warning shadow-sm">
                    <i class="fa fa-plus"></i> Add New
                </a>
            </div>

            <!-- Table Card -->
            <div class="card shadow-sm border-0">
                <div class="card-body p-0">

                    <table class="table table-hover mb-0">
                        <thead class="bg-light">
                            <tr>
                                <th>#</th>
                                <th>Category Name</th>
                                <th>Created</th>
                                <th>Updated</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>

                        <tbody>
                            {% for cat in categories %}
                            <tr>
                                <td>{{ forloop.counter }}</td>
                                <td class="font-weight-bold">
                                    {{ cat.category_name }}
                                </td>
                                <td class="text-muted">
                                    {{ cat.created_at }}
                                </td>
                                <td class="text-muted">
                                    {{ cat.updated_at }}
                                </td>
                                <td class="text-center">

                                    <a href="{% url 'edit_category' cat.id %}"
       class="btn btn-sm btn-outline-primary mr-2">
        <i class="fa fa-edit"></i>
    </a>

             <a href="{% url 'delete_category' cat.id %}"
       class="btn btn-sm btn-outline-danger"
       onclick="return confirm('Are you sure you want to delete this category?');">
        <i class="fa fa-trash"></i>
    </a>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="5" class="text-center text-muted py-4">
                                    No Categories Found
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>

                    </table>

                </div>
            </div>

        </div>

    </div>
</div>

{% endblock %}
